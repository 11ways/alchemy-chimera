<% start('wrapper') %>
<div class="form-group">
	<label for="<%= item.id %>" class="col-sm-2 control-label"><%= item.title %></label>
	<div class="col-sm-10 controls">
		<!--INPUT-->
		<!--HELP-->
	</div>
</div>
<% end('wrapper') %>

<%

start('input');

var value = item.value.value,
    readonlyOverload = false;

if (!value && foreign.key == item.field) {
	value = foreign.id;
	readonlyOverload = true;
}

%>
<div class="select2group" style="width:100%;overflow: auto;">
	<% if (!item.readonly && !readonlyOverload && !item.value.string) { %>
		<div style="float:right;margin-left:15px">
			<button data-modal-url="<%= item.value.modalUrl %>" class="btn btn-default"><i class="fa fa-plus-circle"></i> <% echo(__('select2', 'Add new')) %></button>
		</div>
	<% } %>
	<div style="overflow:auto;">
		<input
			type="hidden"
			name="<%= item.fullPath %>"
			class=" select2-form-control"
			id="AdminField-<%= item.name %>"
			data-url="<%= item.value.url %>"
			value="<%= value %>"
			data-select-type="<%= item.value.select %>"
			<% if(item.value.string) { %>
			data-string-type="true"
			<% } %>
			<% if(item.readonly===true || readonlyOverload){ %> readonly <% } %>
			>
		</input>
	</div>
	<div class="clear"></div>
</div>
<% end('input') %>